var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":3}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig1_1 = require("./GameConfig1");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig1_1.default.width, GameConfig1_1.default.height);
        else
            Laya.init(GameConfig1_1.default.width, GameConfig1_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig1_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig1_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig1_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig1_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig1_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig1_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig1_1.default.startScene && Laya.Scene.open(GameConfig1_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig1":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var Vector2 = Laya.Vector2;
var PloygenDetection_1 = require("./PloygenDetection");
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        var posArr = [300, 300, 500, 300, 500, 600, 300, 600, 300, 300];
        _this.DrawPolygen(posArr);
        var posArr2 = [400, 400, 600, 400, 600, 800, 400, 800, 400, 400];
        _this.DrawPolygen(posArr2);
        var posArr3 = [800, 400, 1000, 400, 1000, 800, 800, 800, 800, 400];
        _this.DrawPolygen(posArr3);
        _this.ShowResult(PloygenDetection_1.default.IsRectPolygonIntersect(_this.CreatePolygon(posArr), _this.CreatePolygon(posArr3)));
        return _this;
        // let posArr = [300,200,500,240,600,400,340,800,100,400,300,200];
        // this.DrawPolygen(posArr);
        // let posArr2 = [1000,300,800,400,600,800,1200,500,1000,300]
        // this.DrawPolygen(posArr2);
        // this.ShowResult(PolygonDetect.IsMultiPolygonIntersection(this.CreatePolygon(posArr),this.CreatePolygon(posArr2)));
        // let posArr3 = [1000,300,1200,600,1500,100,1600,700,1000,300]
        // this.DrawPolygen(posArr3);
        // this.Line = this.CreateSprite();
        // this.point = this.CreateSprite();
        // Laya.stage.on(Laya.Event.MOUSE_MOVE,this,()=>{
        //     this.Line.graphics.clear();
        //     this.point.graphics.clear();
        //     this.IsIntersect(this.Line,posArr2); 
        //     this.IsInPolygon(this.point,posArr2);     
        // })
    }
    GameUI.prototype.IsInPolygon = function (sp, posArr) {
        sp.graphics.drawCircle(Laya.stage.mouseX, Laya.stage.mouseY, 5, "#00ff00");
        var b = PloygenDetection_1.default.IsPointInPolygon(new Laya.Vector2(Laya.stage.mouseX, Laya.stage.mouseY), this.CreatePolygon(posArr));
        this.ShowResult(b);
    };
    GameUI.prototype.IsIntersect = function (sp, posArr) {
        var p1 = new Vector2(Laya.stage.width / 2, Laya.stage.height / 2);
        var p2 = new Vector2(Laya.stage.mouseX, Laya.stage.mouseY);
        sp.graphics.drawLine(p1.x, p1.y, p2.x, p2.y, "#00ff00");
        var b1;
        var index = 0;
        for (var i = 0; i < posArr.length; i += 2) {
            var q1 = new Vector2(posArr[i], posArr[i + 1]);
            var q2 = new Vector2(posArr[i + 2], posArr[i + 3]);
            if (i != posArr.length - 2) {
                b1 = PloygenDetection_1.default.IsSegmentIntersect(p1, p2, q1, q2);
                if (b1) {
                    this.ShowResult(b1);
                    index++;
                    console.debug("相交的线段为" + index + "：", q1.x, q1.y, q2.x, q2.y);
                    if (this.currentPoint == null && this.currentPoint != i) {
                        this.point = this.CreateSprite();
                        this.currentPoint = i;
                    }
                    this.CreateIntersectPoint(this.point, p1, p2, q1, q2);
                }
            }
            else {
                q2 = new Vector2(posArr[0], posArr[1]);
                b1 = PloygenDetection_1.default.IsSegmentIntersect(p1, p2, q1, q2);
                if (b1) {
                    this.ShowResult(b1);
                    index++;
                    console.debug("相交的线段为" + index + "：", q1.x, q1.y, q2.x, q2.y);
                    var sp2 = void 0;
                    if (this.currentPoint == null && this.currentPoint != i) {
                        sp2 = this.CreateSprite();
                        this.currentPoint = i;
                    }
                    this.CreateIntersectPoint(sp2, p1, p2, q1, q2);
                }
            }
        }
        if (index == 0)
            this.ShowResult(false);
    };
    GameUI.prototype.CreateIntersectPoint = function (sp, p1, p2, q1, q2) {
        if (sp == null)
            return;
        var p = PloygenDetection_1.default.GetCrossPoint(p1, p2, q1, q2);
        sp.graphics.clear();
        if (p)
            sp.graphics.drawCircle(p.x, p.y, 10, "#0000ff");
    };
    GameUI.prototype.CreateSprite = function () {
        var sp = new Laya.Sprite();
        Laya.stage.addChild(sp);
        return sp;
    };
    GameUI.prototype.CreatePolygon = function (arr) {
        var _arr = new Array();
        for (var i = 0; i < arr.length; i += 2) {
            if (i != arr.length - 1) {
                _arr.push(new Vector2(arr[i], arr[i + 1]));
                this.CreateLable("(" + arr[i] + "," + arr[i + 1] + ")", new Vector2(arr[i], arr[i + 1]));
            }
            else {
                _arr.push(new Vector2(arr[i], arr[0]));
                this.CreateLable("(" + arr[i] + "," + arr[0] + ")", new Vector2(arr[i], arr[i + 1]));
            }
        }
        var polygon = new PloygenDetection_1.Polygon(_arr);
        return polygon;
    };
    GameUI.prototype.DrawPolygen = function (posArr, color, lineWidth) {
        var sp = new Laya.Sprite();
        Laya.stage.addChild(sp);
        var _color = color != null ? color : "#ff0000";
        var _width = lineWidth != null ? lineWidth : 5;
        var startPos = new Vector2(0, 0);
        sp.graphics.drawLines(startPos.x, startPos.y, posArr, _color, _width);
    };
    GameUI.prototype.CreateLable = function (content, pos) {
        var label = new Laya.Label();
        label.name = "text";
        label.width = 100;
        label.height = 100;
        label.pivotX = 50;
        label.pivotY = 50;
        label.pos(pos.x, pos.y);
        label.bold = true;
        label.font = "SimHei";
        label.text = content;
        label.fontSize = 20;
        label.align = "center";
        label.valign = "middle";
        label.color = "#ffffff";
        Laya.stage.addChild(label);
        return label;
    };
    GameUI.prototype.ShowResult = function (b) {
        var label = this.getChildByName("msg");
        if (b) {
            if (label)
                label.text = "相交";
        }
        else {
            if (label)
                label.text = "不相交";
        }
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":5,"./PloygenDetection":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector2 = Laya.Vector2;
/**
 * 参考https://blog.csdn.net/stevenkylelee/article/details/88075814
 *
*/
var PolygonDetect = /** @class */ (function () {
    function PolygonDetect() {
    }
    /**
     * 特殊情况，两个矩形是否相交
     * @param polygon1
     * @param polygon2
     */
    PolygonDetect.IsRectPolygonIntersect = function (polygon1, polygon2) {
        return this.PointInPolygon(polygon1, polygon2);
    };
    /**
     * 判断两个多边形是否相交,(1)包含情况（2）完全不想交（3）相交
     * 判断条件：点在内部，边相交
     * @param Polygon1 多边形1
     * @param Polygon2 多边形2
     */
    PolygonDetect.IsMultiPolygonIntersection = function (Polygon1, Polygon2) {
        return this.SegementDetect(Polygon1, Polygon2) || this.PointInPolygon(Polygon1, Polygon2);
    };
    /**
     * 判断点是否在多边形内部
     * 几种特殊情况，（1）点在边上 （2）边不是水平的 （3）多边形顶点与目标点相交，属于纵坐标较大的顶点则计数，否则忽略
     * @param point 点
     * @param Polygon 多边形
     */
    PolygonDetect.IsPointInPolygon = function (point, Polygon) {
        var pointArr = new Array();
        var lenght = Polygon.points.length;
        var _loop_1 = function (i) {
            var pt1 = Polygon.points[i];
            var pt2 = void 0;
            if (i == lenght - 1)
                pt2 = Polygon.points[0];
            else
                pt2 = Polygon.points[i + 1];
            if (pt1.y == point.y && pt2.y == point.y)
                return out_i_1 = i, "continue"; //射线与多边形线段重合
            if (pt1.y == point.y) { //射线与多边形某个线段初始顶点相交
                var pt0 = i == 0 ? Polygon.points[lenght - 1] : Polygon.points[i - 1];
                if ((pt0.y - pt1.y) * (pt2.y - pt1.y) > 0) {
                    return out_i_1 = i, "continue";
                }
                else {
                    i++;
                }
            }
            if (pt2.y == point.y) { //射线与多边形某个线段结束顶点相交
                var pt3 = i == lenght - 2 ? Polygon.points[0] : i == lenght - 1 ? Polygon.points[1] : Polygon.points[i + 2];
                if ((pt1.y - pt2.y) * (pt3.y - pt2.y) > 0) {
                    return out_i_1 = i, "continue";
                }
                else {
                    i++;
                }
            }
            var c = this_1.GetCrossPoint(pt1, pt2, point, new Vector2(Laya.stage.width, point.y));
            if (c != null && c.x > point.x) {
                if (!pointArr.some(function (p) { return p.x == c.x && p.y == c.y; })) {
                    pointArr.push(c);
                }
            }
            out_i_1 = i;
        };
        var this_1 = this, out_i_1;
        for (var i = 0; i < lenght; i++) {
            _loop_1(i);
            i = out_i_1;
        }
        if (pointArr.length % 2 == 1)
            return true;
        return false;
    };
    /**
     * "快速排斥":以两条线段为对角线的矩形，如果不重合，两线段一点不相交；aabb包围盒是否相交
     * "跨立实验"：如果两个线段相交，必须跨立，以一条线段为基准，另一条线段两端点一定在这条线段两侧，利用向量叉积
     * 线段平行重合的情况暂时未考虑
     */
    PolygonDetect.IsSegmentIntersect = function (p1, p2, q1, q2) {
        //快速排斥
        var rect = Math.min(p1.x, p2.x) <= Math.max(q1.x, q2.x) &&
            Math.min(q1.x, q2.x) <= Math.max(p1.x, p2.x) &&
            Math.min(p1.y, p2.y) <= Math.max(q1.y, q2.y) &&
            Math.min(q1.y, q2.y) <= Math.max(p1.y, p2.y);
        //跨立实验
        //q1,q2跨立线段p1p2
        var r1 = this.SegmentDetect(this.sub(p2, p1), this.sub(q1, p1), this.sub(q2, p1));
        //p1,p2跨立线段q1q2
        var r2 = this.SegmentDetect(this.sub(q2, q1), this.sub(p1, q1), this.sub(p2, q1));
        if (rect && r1 && r2)
            return true;
        return false;
    };
    PolygonDetect.CreatePolygon = function (arr) {
        var _arr = new Array();
        for (var i = 0; i < arr.length; i += 2) {
            if (i != arr.length - 1) {
                _arr.push(new Vector2(arr[i], arr[i + 1]));
                this.CreateLable("(" + arr[i] + "," + arr[i + 1] + ")", new Vector2(arr[i], arr[i + 1]));
            }
            else {
                _arr.push(new Vector2(arr[i], arr[0]));
                this.CreateLable("(" + arr[i] + "," + arr[0] + ")", new Vector2(arr[i], arr[i + 1]));
            }
        }
        var polygon = new Polygon(_arr);
        return polygon;
    };
    PolygonDetect.CreateLable = function (content, pos) {
        var label = new Laya.Label();
        label.name = "text";
        label.width = 100;
        label.height = 100;
        label.pivotX = 50;
        label.pivotY = 50;
        label.pos(pos.x, pos.y);
        label.bold = true;
        label.font = "SimHei";
        label.text = content;
        label.fontSize = 20;
        label.align = "center";
        label.valign = "middle";
        label.color = "#ffffff";
        Laya.stage.addChild(label);
        return label;
    };
    /**
     * 多边形的点再另一个多边形内部
     * @param polygon1
     * @param polygon2
     */
    PolygonDetect.PointInPolygon = function (polygon1, polygon2) {
        for (var i = 0; i < polygon1.points.length; ++i) {
            var pt = polygon1.points[i];
            var b = this.IsPointInPolygon(pt, polygon2);
            if (b)
                return b;
        }
        for (var i = 0; i < polygon2.points.length; ++i) {
            var pt = polygon2.points[i];
            var b = this.IsPointInPolygon(pt, polygon1);
            if (b)
                return b;
        }
        return false;
    };
    /**
     * 多边形的线段与另一个多边形线段相交
     * @param polygon1
     * @param polygon2
     */
    PolygonDetect.SegementDetect = function (polygon1, polygon2) {
        // 线段相交
        for (var i = 0; i < polygon1.points.length; ++i) {
            var seg1pt1 = polygon1.points[i];
            var seg1pt2 = polygon1.points[i + 1];
            if (i == polygon1.points.length - 1) {
                seg1pt2 = polygon1.points[0];
            }
            for (var j = 0; j < polygon2.points.length; ++j) {
                var seg2pt1 = polygon2.points[j];
                var seg2pt2 = polygon2.points[j + 1];
                if (j == polygon2.points.length - 1) {
                    seg2pt2 = polygon2.points[0];
                }
                var b = this.IsSegmentIntersect(seg1pt1, seg1pt2, seg2pt1, seg2pt2);
                if (b)
                    return b;
            }
        }
        return false;
    };
    /**
     * 求两个线段的交点
     * @param seg1
     * @param seg2
     */
    PolygonDetect.GetCrossPoint = function (p1, p2, q1, q2) {
        if (!this.IsSegmentIntersect(p1, p2, q1, q2))
            return null;
        var area_abc = (p1.x - q1.x) * (p2.y - q1.y) - (p1.y - q1.y) * (p2.x - q1.x);
        var area_abd = (p1.x - q2.x) * (p2.y - q2.y) - (p1.y - q2.y) * (p2.x - q2.x);
        var area_cda = (q1.x - p1.x) * (q2.y - p1.y) - (q1.y - p1.y) * (q2.x - p1.x);
        var area_cdb = area_cda + area_abc - area_abd;
        //计算交点坐标 
        var t = area_cda / (area_abd - area_abc);
        var dx = t * (p2.x - p1.x), dy = t * (p2.y - p1.y);
        return new Vector2(p1.x + dx, p1.y + dy);
    };
    /**
     * 线段相交检测
     * @param p 线段0
     * @param p1 线段1
     * @param p2 线段2
     */
    PolygonDetect.SegmentDetect = function (p, p1, p2) {
        var c1 = this.cross(p, p1);
        var c2 = this.cross(p, p2);
        //如果在左右两边，相乘为负数
        if (c1 * c2 <= 0)
            return true;
        return false;
    };
    /**
     * 向量差乘
     * @param v1 向量1
     * @param v2 向量2
     */
    PolygonDetect.cross = function (v1, v2) {
        return v1.x * v2.y - v2.x * v1.y;
    };
    /**
     * 向量相减
     * @param v1 向量1
     * @param v2 向量2
     */
    PolygonDetect.sub = function (v1, v2) {
        return new Vector2(v1.x - v2.x, v1.y - v2.y);
    };
    return PolygonDetect;
}());
exports.default = PolygonDetect;
var Segment = /** @class */ (function () {
    function Segment(_point1, _point2) {
        this.point1 = _point1;
        this.point2 = _point2;
    }
    return Segment;
}());
exports.Segment = Segment;
var Polygon = /** @class */ (function () {
    function Polygon(_points) {
        this.points = _points;
    }
    return Polygon;
}());
exports.Polygon = Polygon;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2lkZS9MYXlhQWlySURFX2JldGEgKDEpL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnMS50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvc2NyaXB0L1Bsb3lnZW5EZXRlY3Rpb24udHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywwQ0FBb0M7QUFDcEM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLE1BQU0sQ0FBQztJQUN4QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLHNCQUFzQixDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDZDQUF1QztBQUN2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ZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZnVsbFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwidGVzdC9UZXN0U2NlbmUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWcxXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuaW1wb3J0IFZlY3RvcjIgPSBMYXlhLlZlY3RvcjI7XHJcbmltcG9ydCBQb2x5Z29uRGV0ZWN0LCB7IFBvbHlnb24gfSBmcm9tIFwiLi9QbG95Z2VuRGV0ZWN0aW9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuXHJcbiAgICBwb2ludDpMYXlhLlNwcml0ZTtcclxuICAgIExpbmU6TGF5YS5TcHJpdGU7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblx0XHRcclxuICAgICAgICAvL+a3u+WKoDNE5Zy65pmvXHJcbiAgICAgICAgdmFyIHNjZW5lOiBMYXlhLlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgICAgICBsZXQgcG9zQXJyID0gWzMwMCwzMDAsNTAwLDMwMCw1MDAsNjAwLDMwMCw2MDAsMzAwLDMwMF07XHJcbiAgICAgICAgdGhpcy5EcmF3UG9seWdlbihwb3NBcnIpO1xyXG5cclxuICAgICAgICBsZXQgcG9zQXJyMiA9IFs0MDAsNDAwLDYwMCw0MDAsNjAwLDgwMCw0MDAsODAwLDQwMCw0MDBdO1xyXG4gICAgICAgIHRoaXMuRHJhd1BvbHlnZW4ocG9zQXJyMik7XHJcblxyXG4gICAgICAgIGxldCBwb3NBcnIzID0gWzgwMCw0MDAsMTAwMCw0MDAsMTAwMCw4MDAsODAwLDgwMCw4MDAsNDAwXTtcclxuICAgICAgICB0aGlzLkRyYXdQb2x5Z2VuKHBvc0FycjMpO1xyXG5cclxuICAgICAgICB0aGlzLlNob3dSZXN1bHQoUG9seWdvbkRldGVjdC5Jc1JlY3RQb2x5Z29uSW50ZXJzZWN0KHRoaXMuQ3JlYXRlUG9seWdvbihwb3NBcnIpLHRoaXMuQ3JlYXRlUG9seWdvbihwb3NBcnIzKSkpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gbGV0IHBvc0FyciA9IFszMDAsMjAwLDUwMCwyNDAsNjAwLDQwMCwzNDAsODAwLDEwMCw0MDAsMzAwLDIwMF07XHJcbiAgICAgICAgLy8gdGhpcy5EcmF3UG9seWdlbihwb3NBcnIpO1xyXG5cclxuICAgICAgICAvLyBsZXQgcG9zQXJyMiA9IFsxMDAwLDMwMCw4MDAsNDAwLDYwMCw4MDAsMTIwMCw1MDAsMTAwMCwzMDBdXHJcbiAgICAgICAgLy8gdGhpcy5EcmF3UG9seWdlbihwb3NBcnIyKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5TaG93UmVzdWx0KFBvbHlnb25EZXRlY3QuSXNNdWx0aVBvbHlnb25JbnRlcnNlY3Rpb24odGhpcy5DcmVhdGVQb2x5Z29uKHBvc0FyciksdGhpcy5DcmVhdGVQb2x5Z29uKHBvc0FycjIpKSk7XHJcblxyXG4gICAgICAgIC8vIGxldCBwb3NBcnIzID0gWzEwMDAsMzAwLDEyMDAsNjAwLDE1MDAsMTAwLDE2MDAsNzAwLDEwMDAsMzAwXVxyXG4gICAgICAgIC8vIHRoaXMuRHJhd1BvbHlnZW4ocG9zQXJyMyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuTGluZSA9IHRoaXMuQ3JlYXRlU3ByaXRlKCk7XHJcbiAgICAgICAgLy8gdGhpcy5wb2ludCA9IHRoaXMuQ3JlYXRlU3ByaXRlKCk7XHJcbiAgICAgICAgLy8gTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsdGhpcywoKT0+e1xyXG4gICAgICAgIC8vICAgICB0aGlzLkxpbmUuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5wb2ludC5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLklzSW50ZXJzZWN0KHRoaXMuTGluZSxwb3NBcnIyKTsgXHJcbiAgICAgICAgLy8gICAgIHRoaXMuSXNJblBvbHlnb24odGhpcy5wb2ludCxwb3NBcnIyKTsgICAgIFxyXG4gICAgICAgIC8vIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIElzSW5Qb2x5Z29uKHNwOkxheWEuU3ByaXRlLHBvc0FycjogQXJyYXk8bnVtYmVyPil7XHJcbiAgICAgICAgc3AuZ3JhcGhpY3MuZHJhd0NpcmNsZShMYXlhLnN0YWdlLm1vdXNlWCxMYXlhLnN0YWdlLm1vdXNlWSw1LFwiIzAwZmYwMFwiKTtcclxuICAgICAgICBsZXQgYiA9IFBvbHlnb25EZXRlY3QuSXNQb2ludEluUG9seWdvbihuZXcgTGF5YS5WZWN0b3IyKExheWEuc3RhZ2UubW91c2VYLExheWEuc3RhZ2UubW91c2VZKSx0aGlzLkNyZWF0ZVBvbHlnb24ocG9zQXJyKSk7XHJcbiAgICAgICAgdGhpcy5TaG93UmVzdWx0KGIpO1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRQb2ludDpudW1iZXI7XHJcbiAgICBJc0ludGVyc2VjdChzcDpMYXlhLlNwcml0ZSxwb3NBcnI6IEFycmF5PG51bWJlcj4pe1xyXG4gICAgICAgIGxldCBwMSA9IG5ldyBWZWN0b3IyKExheWEuc3RhZ2Uud2lkdGgvMixMYXlhLnN0YWdlLmhlaWdodC8yKTtcclxuICAgICAgICBsZXQgcDIgPSBuZXcgVmVjdG9yMihMYXlhLnN0YWdlLm1vdXNlWCxMYXlhLnN0YWdlLm1vdXNlWSk7XHJcbiAgICAgICAgc3AuZ3JhcGhpY3MuZHJhd0xpbmUocDEueCxwMS55LHAyLngscDIueSxcIiMwMGZmMDBcIik7XHJcbiAgICAgICAgbGV0IGIxO1xyXG4gICAgICAgIGxldCBpbmRleCA9MDtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPHBvc0Fyci5sZW5ndGg7aSs9Mil7XHJcbiAgICAgICAgICAgIGxldCBxMSA9IG5ldyBWZWN0b3IyKHBvc0FycltpXSxwb3NBcnJbaSsxXSk7XHJcbiAgICAgICAgICAgIGxldCBxMiA9IG5ldyBWZWN0b3IyKHBvc0FycltpKzJdLHBvc0FycltpKzNdKTtcclxuICAgICAgICAgICAgaWYoaSAhPSBwb3NBcnIubGVuZ3RoIC0yKXtcclxuICAgICAgICAgICAgICAgIGIxID0gUG9seWdvbkRldGVjdC5Jc1NlZ21lbnRJbnRlcnNlY3QocDEscDIscTEscTIpO1xyXG4gICAgICAgICAgICAgICAgaWYoYjEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2hvd1Jlc3VsdChiMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwi55u45Lqk55qE57q/5q615Li6XCIgKyBpbmRleCArIFwi77yaXCIgLHExLngscTEueSxxMi54LHEyLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudFBvaW50PT1udWxsICYmIHRoaXMuY3VycmVudFBvaW50IT1pKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludCA9IHRoaXMuQ3JlYXRlU3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DcmVhdGVJbnRlcnNlY3RQb2ludCh0aGlzLnBvaW50LHAxLHAyLHExLHEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBxMiA9IG5ldyBWZWN0b3IyKHBvc0FyclswXSxwb3NBcnJbMV0pO1xyXG4gICAgICAgICAgICAgICAgYjEgPSBQb2x5Z29uRGV0ZWN0LklzU2VnbWVudEludGVyc2VjdChwMSxwMixxMSxxMik7XHJcbiAgICAgICAgICAgICAgICBpZihiMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TaG93UmVzdWx0KGIxKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCLnm7jkuqTnmoTnur/mrrXkuLpcIiArIGluZGV4ICsgXCLvvJpcIiAscTEueCxxMS55LHEyLngscTIueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwMjtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRQb2ludD09bnVsbCAmJiB0aGlzLmN1cnJlbnRQb2ludCE9aSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwMiA9IHRoaXMuQ3JlYXRlU3ByaXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DcmVhdGVJbnRlcnNlY3RQb2ludChzcDIscDEscDIscTEscTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4PT0wKSB0aGlzLlNob3dSZXN1bHQoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZUludGVyc2VjdFBvaW50KHNwOkxheWEuU3ByaXRlLCBwMSxwMixxMSxxMil7XHJcbiAgICAgICAgaWYoc3A9PW51bGwpcmV0dXJuIDtcclxuICAgICAgICBsZXQgcCA9IFBvbHlnb25EZXRlY3QuR2V0Q3Jvc3NQb2ludChwMSxwMixxMSxxMik7XHJcbiAgICAgICAgc3AuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICBpZihwKVxyXG4gICAgICAgIHNwLmdyYXBoaWNzLmRyYXdDaXJjbGUocC54LHAueSwxMCxcIiMwMDAwZmZcIik7XHJcbiAgICB9XHJcblxyXG4gICAgQ3JlYXRlU3ByaXRlKCl7XHJcbiAgICAgICAgbGV0IHNwID0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzcCk7XHJcbiAgICAgICAgcmV0dXJuIHNwO1xyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVBvbHlnb24oYXJyOkFycmF5PG51bWJlcj4pe1xyXG4gICAgICAgIGxldCBfYXJyID0gbmV3IEFycmF5PFZlY3RvcjI+KCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpPGFyci5sZW5ndGg7aSs9Mil7XHJcbiAgICAgICAgICAgIGlmKGkhPWFyci5sZW5ndGggLTEpe1xyXG4gICAgICAgICAgICAgICAgX2Fyci5wdXNoKG5ldyBWZWN0b3IyKGFycltpXSxhcnJbaSsxXSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DcmVhdGVMYWJsZShcIihcIithcnJbaV0rXCIsXCIrYXJyW2krMV0rXCIpXCIsIG5ldyBWZWN0b3IyKGFycltpXSxhcnJbaSsxXSkpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIF9hcnIucHVzaChuZXcgVmVjdG9yMihhcnJbaV0sYXJyWzBdKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNyZWF0ZUxhYmxlKFwiKFwiK2FycltpXStcIixcIithcnJbMF0rXCIpXCIsIG5ldyBWZWN0b3IyKGFycltpXSxhcnJbaSsxXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwb2x5Z29uID0gbmV3IFBvbHlnb24oX2Fycik7XHJcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XHJcbiAgICB9XHJcblxyXG4gICAgRHJhd1BvbHlnZW4ocG9zQXJyOkFycmF5PGFueT4sY29sb3I/OnN0cmluZyxsaW5lV2lkdGg/Om51bWJlcil7XHJcbiAgICAgICAgbGV0IHNwID0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzcCk7XHJcblxyXG4gICAgICAgIGxldCBfY29sb3IgPSBjb2xvciE9bnVsbD9jb2xvcjpcIiNmZjAwMDBcIjtcclxuICAgICAgICBsZXQgX3dpZHRoID0gbGluZVdpZHRoIT1udWxsP2xpbmVXaWR0aDo1O1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRQb3MgPSBuZXcgVmVjdG9yMigwLDApO1xyXG4gICAgICAgIHNwLmdyYXBoaWNzLmRyYXdMaW5lcyhzdGFydFBvcy54LHN0YXJ0UG9zLnkscG9zQXJyLF9jb2xvcixfd2lkdGgpOyBcclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVMYWJsZShjb250ZW50OnN0cmluZyxwb3M6TGF5YS5WZWN0b3IyKXtcclxuICAgICAgICB2YXIgbGFiZWwgPSBuZXcgTGF5YS5MYWJlbCgpO1xyXG4gICAgICAgIGxhYmVsLm5hbWUgPSBcInRleHRcIjtcclxuICAgICAgICBsYWJlbC53aWR0aCA9IDEwMDtcclxuICAgICAgICBsYWJlbC5oZWlnaHQgPSAxMDA7XHJcbiAgICAgICAgbGFiZWwucGl2b3RYID0gNTA7XHJcbiAgICAgICAgbGFiZWwucGl2b3RZID0gNTA7XHJcbiAgICAgICAgbGFiZWwucG9zKHBvcy54LHBvcy55KTtcclxuICAgICAgICBsYWJlbC5ib2xkID0gdHJ1ZTtcclxuICAgICAgICBsYWJlbC5mb250ID0gXCJTaW1IZWlcIjtcclxuICAgICAgICBsYWJlbC50ZXh0ID0gY29udGVudDtcclxuICAgICAgICBsYWJlbC5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgIGxhYmVsLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBsYWJlbC52YWxpZ24gPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgIGxhYmVsLmNvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIFNob3dSZXN1bHQoYjpib29sZWFuKXtcclxuICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmdldENoaWxkQnlOYW1lKFwibXNnXCIpIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgaWYoYil7XHJcbiAgICAgICAgICAgIGlmKGxhYmVsKWxhYmVsLnRleHQgPSBcIuebuOS6pFwiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihsYWJlbClsYWJlbC50ZXh0ID0gXCLkuI3nm7jkuqRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yMiA9IExheWEuVmVjdG9yMjtcclxuXHJcbi8qKiBcclxuICog5Y+C6ICDaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N0ZXZlbmt5bGVsZWUvYXJ0aWNsZS9kZXRhaWxzLzg4MDc1ODE0XHJcbiAqIFxyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uRGV0ZWN0e1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog54m55q6K5oOF5Ya177yM5Lik5Liq55+p5b2i5piv5ZCm55u45LqkXHJcbiAgICAgKiBAcGFyYW0gcG9seWdvbjEgXHJcbiAgICAgKiBAcGFyYW0gcG9seWdvbjIgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgSXNSZWN0UG9seWdvbkludGVyc2VjdChwb2x5Z29uMTpQb2x5Z29uLHBvbHlnb24yOlBvbHlnb24pe1xyXG4gICAgICAgIHJldHVybiB0aGlzLlBvaW50SW5Qb2x5Z29uKHBvbHlnb24xLCBwb2x5Z29uMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3kuKTkuKrlpJrovrnlvaLmmK/lkKbnm7jkuqQsKDEp5YyF5ZCr5oOF5Ya177yIMu+8ieWujOWFqOS4jeaDs+S6pO+8iDPvvInnm7jkuqRcclxuICAgICAqIOWIpOaWreadoeS7tu+8mueCueWcqOWGhemDqO+8jOi+ueebuOS6pFxyXG4gICAgICogQHBhcmFtIFBvbHlnb24xIOWkmui+ueW9ojFcclxuICAgICAqIEBwYXJhbSBQb2x5Z29uMiDlpJrovrnlvaIyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgSXNNdWx0aVBvbHlnb25JbnRlcnNlY3Rpb24oUG9seWdvbjE6UG9seWdvbixQb2x5Z29uMjpQb2x5Z29uKTpib29sZWFue1xyXG4gICAgICAgIHJldHVybiB0aGlzLlNlZ2VtZW50RGV0ZWN0KFBvbHlnb24xLFBvbHlnb24yKSB8fCB0aGlzLlBvaW50SW5Qb2x5Z29uKFBvbHlnb24xLCBQb2x5Z29uMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3ngrnmmK/lkKblnKjlpJrovrnlvaLlhoXpg6hcclxuICAgICAqIOWHoOenjeeJueauiuaDheWGte+8jO+8iDHvvInngrnlnKjovrnkuIog77yIMu+8iei+ueS4jeaYr+awtOW5s+eahCDvvIgz77yJ5aSa6L655b2i6aG254K55LiO55uu5qCH54K555u45Lqk77yM5bGe5LqO57q15Z2Q5qCH6L6D5aSn55qE6aG254K55YiZ6K6h5pWw77yM5ZCm5YiZ5b+955WlXHJcbiAgICAgKiBAcGFyYW0gcG9pbnQg54K5XHJcbiAgICAgKiBAcGFyYW0gUG9seWdvbiDlpJrovrnlvaJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBJc1BvaW50SW5Qb2x5Z29uKHBvaW50OlZlY3RvcjIsUG9seWdvbjpQb2x5Z29uKTpib29sZWFue1xyXG4gICAgICAgIGxldCBwb2ludEFycjpBcnJheTxWZWN0b3IyPiA9IG5ldyBBcnJheTxWZWN0b3IyPigpO1xyXG4gICAgICAgIGxldCBsZW5naHQgPSBQb2x5Z29uLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgbGVuZ2h0O2krKyl7XHJcbiAgICAgICAgICAgIGxldCBwdDEgPSBQb2x5Z29uLnBvaW50c1tpXTtcclxuICAgICAgICAgICAgbGV0IHB0MjtcclxuICAgICAgICAgICAgaWYoaSA9PSBsZW5naHQgLTEpXHJcbiAgICAgICAgICAgICAgICBwdDIgPSBQb2x5Z29uLnBvaW50c1swXTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcHQyID0gUG9seWdvbi5wb2ludHNbaSsxXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihwdDEueT09cG9pbnQueSYmcHQyLnk9PXBvaW50LnkpY29udGludWU7Ly/lsITnur/kuI7lpJrovrnlvaLnur/mrrXph43lkIhcclxuICAgICAgICAgICAgaWYocHQxLnk9PXBvaW50LnkpeyAvL+WwhOe6v+S4juWkmui+ueW9ouafkOS4que6v+auteWIneWni+mhtueCueebuOS6pFxyXG4gICAgICAgICAgICAgICAgbGV0IHB0MCA9IGk9PTA/UG9seWdvbi5wb2ludHNbbGVuZ2h0LTFdOlBvbHlnb24ucG9pbnRzW2ktMV1cclxuICAgICAgICAgICAgICAgIGlmKChwdDAueS1wdDEueSkqKHB0Mi55LXB0MS55KT4wKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwdDIueT09cG9pbnQueSl7IC8v5bCE57q/5LiO5aSa6L655b2i5p+Q5Liq57q/5q6157uT5p2f6aG254K555u45LqkXHJcbiAgICAgICAgICAgICAgICBsZXQgcHQzID0gaT09bGVuZ2h0LTI/UG9seWdvbi5wb2ludHNbMF06aT09bGVuZ2h0LTE/UG9seWdvbi5wb2ludHNbMV06UG9seWdvbi5wb2ludHNbaSsyXTtcclxuICAgICAgICAgICAgICAgIGlmKChwdDEueS1wdDIueSkqKHB0My55LXB0Mi55KT4wKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLkdldENyb3NzUG9pbnQocHQxLHB0Mixwb2ludCxuZXcgVmVjdG9yMihMYXlhLnN0YWdlLndpZHRoLHBvaW50LnkpKTtcclxuICAgICAgICAgICAgaWYoYyE9bnVsbCYmYy54ID4gcG9pbnQueCl7ICBcclxuICAgICAgICAgICAgICAgIGlmKCFwb2ludEFyci5zb21lKChwKT0+cC54ID09IGMueCYmcC55ID09IGMueSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QXJyLnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYocG9pbnRBcnIubGVuZ3RoJTI9PTEpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcIuW/q+mAn+aOkuaWpVwiOuS7peS4pOadoee6v+auteS4uuWvueinkue6v+eahOefqeW9ou+8jOWmguaenOS4jemHjeWQiO+8jOS4pOe6v+auteS4gOeCueS4jeebuOS6pO+8m2FhYmLljIXlm7Tnm5LmmK/lkKbnm7jkuqRcclxuICAgICAqIFwi6Leo56uL5a6e6aqMXCLvvJrlpoLmnpzkuKTkuKrnur/mrrXnm7jkuqTvvIzlv4Xpobvot6jnq4vvvIzku6XkuIDmnaHnur/mrrXkuLrln7rlh4bvvIzlj6bkuIDmnaHnur/mrrXkuKTnq6/ngrnkuIDlrprlnKjov5nmnaHnur/mrrXkuKTkvqfvvIzliKnnlKjlkJHph4/lj4nnp69cclxuICAgICAqIOe6v+auteW5s+ihjOmHjeWQiOeahOaDheWGteaaguaXtuacquiAg+iZkVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIElzU2VnbWVudEludGVyc2VjdChwMTpWZWN0b3IyLHAyOlZlY3RvcjIscTE6VmVjdG9yMixxMjpWZWN0b3IyKXtcclxuICAgICAgICAvL+W/q+mAn+aOkuaWpVxyXG4gICAgICAgIGxldCByZWN0ID0gTWF0aC5taW4ocDEueCxwMi54KSA8PSBNYXRoLm1heChxMS54LHEyLngpICYmXHJcbiAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihxMS54LHEyLngpIDw9IE1hdGgubWF4KHAxLngscDIueCkgJiZcclxuICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHAxLnkscDIueSkgPD0gTWF0aC5tYXgocTEueSxxMi55KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgTWF0aC5taW4ocTEueSxxMi55KSA8PSBNYXRoLm1heChwMS55LHAyLnkpXHJcblxyXG4gICAgICAgIC8v6Leo56uL5a6e6aqMXHJcbiAgICAgICAgLy9xMSxxMui3qOeri+e6v+autXAxcDJcclxuICAgICAgICBsZXQgcjEgPSB0aGlzLlNlZ21lbnREZXRlY3QodGhpcy5zdWIocDIscDEpLHRoaXMuc3ViKHExLHAxKSx0aGlzLnN1YihxMixwMSkpO1xyXG4gICAgICAgIC8vcDEscDLot6jnq4vnur/mrrVxMXEyXHJcbiAgICAgICAgbGV0IHIyID0gdGhpcy5TZWdtZW50RGV0ZWN0KHRoaXMuc3ViKHEyLHExKSwgdGhpcy5zdWIocDEscTEpLHRoaXMuc3ViKHAyLHExKSk7XHJcblxyXG4gICAgICAgIGlmKHJlY3QmJnIxJiZyMilcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXRlUG9seWdvbihhcnI6QXJyYXk8bnVtYmVyPil7XHJcbiAgICAgICAgbGV0IF9hcnIgPSBuZXcgQXJyYXk8VmVjdG9yMj4oKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2k8YXJyLmxlbmd0aDtpKz0yKXtcclxuICAgICAgICAgICAgaWYoaSE9YXJyLmxlbmd0aCAtMSl7XHJcbiAgICAgICAgICAgICAgICBfYXJyLnB1c2gobmV3IFZlY3RvcjIoYXJyW2ldLGFycltpKzFdKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNyZWF0ZUxhYmxlKFwiKFwiK2FycltpXStcIixcIithcnJbaSsxXStcIilcIiwgbmV3IFZlY3RvcjIoYXJyW2ldLGFycltpKzFdKSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgX2Fyci5wdXNoKG5ldyBWZWN0b3IyKGFycltpXSxhcnJbMF0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3JlYXRlTGFibGUoXCIoXCIrYXJyW2ldK1wiLFwiK2FyclswXStcIilcIiwgbmV3IFZlY3RvcjIoYXJyW2ldLGFycltpKzFdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbihfYXJyKTtcclxuICAgICAgICByZXR1cm4gcG9seWdvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBDcmVhdGVMYWJsZShjb250ZW50OnN0cmluZyxwb3M6TGF5YS5WZWN0b3IyKXtcclxuICAgICAgICB2YXIgbGFiZWwgPSBuZXcgTGF5YS5MYWJlbCgpO1xyXG4gICAgICAgIGxhYmVsLm5hbWUgPSBcInRleHRcIjtcclxuICAgICAgICBsYWJlbC53aWR0aCA9IDEwMDtcclxuICAgICAgICBsYWJlbC5oZWlnaHQgPSAxMDA7XHJcbiAgICAgICAgbGFiZWwucGl2b3RYID0gNTA7XHJcbiAgICAgICAgbGFiZWwucGl2b3RZID0gNTA7XHJcbiAgICAgICAgbGFiZWwucG9zKHBvcy54LHBvcy55KTtcclxuICAgICAgICBsYWJlbC5ib2xkID0gdHJ1ZTtcclxuICAgICAgICBsYWJlbC5mb250ID0gXCJTaW1IZWlcIjtcclxuICAgICAgICBsYWJlbC50ZXh0ID0gY29udGVudDtcclxuICAgICAgICBsYWJlbC5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgIGxhYmVsLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBsYWJlbC52YWxpZ24gPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgIGxhYmVsLmNvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSa6L655b2i55qE54K55YaN5Y+m5LiA5Liq5aSa6L655b2i5YaF6YOoXHJcbiAgICAgKiBAcGFyYW0gcG9seWdvbjEgXHJcbiAgICAgKiBAcGFyYW0gcG9seWdvbjIgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIFBvaW50SW5Qb2x5Z29uKHBvbHlnb24xOlBvbHlnb24scG9seWdvbjI6UG9seWdvbil7XHJcbiAgICAgICAgZm9yKCBsZXQgaSA9IDAgOyBpIDwgcG9seWdvbjEucG9pbnRzLmxlbmd0aCA7ICsraSApIHtcclxuICAgICAgICAgICAgbGV0IHB0ID0gcG9seWdvbjEucG9pbnRzW2ldIDsgXHJcbiAgICAgICAgICAgIGxldCBiID0gdGhpcy5Jc1BvaW50SW5Qb2x5Z29uKHB0LHBvbHlnb24yKTtcclxuICAgICAgICAgICAgaWYoYikgcmV0dXJuIGI7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKCBsZXQgaSA9IDAgOyBpIDwgcG9seWdvbjIucG9pbnRzLmxlbmd0aCA7ICsraSApIHtcclxuICAgICAgICAgICAgbGV0IHB0ID0gcG9seWdvbjIucG9pbnRzW2ldIDsgXHJcbiAgICAgICAgICAgIGxldCBiID0gdGhpcy5Jc1BvaW50SW5Qb2x5Z29uKHB0LHBvbHlnb24xKTtcclxuICAgICAgICAgICAgaWYoYikgcmV0dXJuIGI7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlIDsgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpJrovrnlvaLnmoTnur/mrrXkuI7lj6bkuIDkuKrlpJrovrnlvaLnur/mrrXnm7jkuqRcclxuICAgICAqIEBwYXJhbSBwb2x5Z29uMSBcclxuICAgICAqIEBwYXJhbSBwb2x5Z29uMiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgU2VnZW1lbnREZXRlY3QocG9seWdvbjE6UG9seWdvbixwb2x5Z29uMjpQb2x5Z29uKXtcclxuICAgICAgICAvLyDnur/mrrXnm7jkuqRcclxuICAgICAgICBmb3IoIGxldCBpID0gMCA7IGkgPCBwb2x5Z29uMS5wb2ludHMubGVuZ3RoOyArK2kgKXtcclxuICAgICAgICAgICAgbGV0IHNlZzFwdDEgPSBwb2x5Z29uMS5wb2ludHNbaV07IFxyXG4gICAgICAgICAgICBsZXQgc2VnMXB0MiA9IHBvbHlnb24xLnBvaW50c1tpKzFdO1xyXG4gICAgICAgICAgICBpZihpPT1wb2x5Z29uMS5wb2ludHMubGVuZ3RoLTEpe1xyXG4gICAgICAgICAgICAgICAgc2VnMXB0MiA9IHBvbHlnb24xLnBvaW50c1swXTtcclxuICAgICAgICAgICAgfSAgICAgXHJcbiAgICAgICAgICAgIGZvciggbGV0IGogPSAwIDsgaiA8IHBvbHlnb24yLnBvaW50cy5sZW5ndGg7ICsraiApe1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlZzJwdDEgPSBwb2x5Z29uMi5wb2ludHNbal0gOyBcclxuICAgICAgICAgICAgICAgIGxldCBzZWcycHQyID0gcG9seWdvbjIucG9pbnRzW2orMV0gOyBcclxuICAgICAgICAgICAgICAgIGlmKGo9PXBvbHlnb24yLnBvaW50cy5sZW5ndGgtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VnMnB0MiA9IHBvbHlnb24yLnBvaW50c1swXTtcclxuICAgICAgICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgYj0gdGhpcy5Jc1NlZ21lbnRJbnRlcnNlY3Qoc2VnMXB0MSxzZWcxcHQyLHNlZzJwdDEsc2VnMnB0Mik7XHJcbiAgICAgICAgICAgICAgICBpZihiKSByZXR1cm4gYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlIDsgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmsYLkuKTkuKrnur/mrrXnmoTkuqTngrlcclxuICAgICAqIEBwYXJhbSBzZWcxIFxyXG4gICAgICogQHBhcmFtIHNlZzIgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0Q3Jvc3NQb2ludChwMTpWZWN0b3IyLHAyOlZlY3RvcjIscTE6VmVjdG9yMixxMjpWZWN0b3IyKXtcclxuICAgICAgICBpZighdGhpcy5Jc1NlZ21lbnRJbnRlcnNlY3QocDEscDIscTEscTIpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGFyZWFfYWJjID0gKHAxLnggLSBxMS54KSAqIChwMi55IC0gcTEueSkgLSAocDEueSAtIHExLnkpICogKHAyLnggLSBxMS54KTsgXHJcbiAgICAgICAgdmFyIGFyZWFfYWJkID0gKHAxLnggLSBxMi54KSAqIChwMi55IC0gcTIueSkgLSAocDEueSAtIHEyLnkpICogKHAyLnggLSBxMi54KTsgXHJcbiAgICAgICAgdmFyIGFyZWFfY2RhID0gKHExLnggLSBwMS54KSAqIChxMi55IC0gcDEueSkgLSAocTEueSAtIHAxLnkpICogKHEyLnggLSBwMS54KTsgXHJcbiAgICAgICAgdmFyIGFyZWFfY2RiID0gYXJlYV9jZGEgKyBhcmVhX2FiYyAtIGFyZWFfYWJkIDsgXHJcblxyXG4gICAgICAgIC8v6K6h566X5Lqk54K55Z2Q5qCHIFxyXG4gICAgICAgIHZhciB0ID0gYXJlYV9jZGEgLyAoIGFyZWFfYWJkLSBhcmVhX2FiYyApOyBcclxuICAgICAgICB2YXIgZHg9IHQqKHAyLnggLSBwMS54KSwgXHJcbiAgICAgICAgZHk9IHQqKHAyLnkgLSBwMS55KTsgXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihwMS54ICsgZHgscDEueSArIGR5KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnur/mrrXnm7jkuqTmo4DmtYtcclxuICAgICAqIEBwYXJhbSBwIOe6v+autTBcclxuICAgICAqIEBwYXJhbSBwMSDnur/mrrUxXHJcbiAgICAgKiBAcGFyYW0gcDIg57q/5q61MlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBTZWdtZW50RGV0ZWN0KHA6VmVjdG9yMiwgcDE6VmVjdG9yMixwMjpWZWN0b3IyKTpib29sZWFue1xyXG4gICAgICAgIGxldCBjMTpudW1iZXIgPSB0aGlzLmNyb3NzKHAscDEpO1xyXG4gICAgICAgIGxldCBjMjpudW1iZXIgPSB0aGlzLmNyb3NzKHAscDIpO1xyXG4gICAgICAgIC8v5aaC5p6c5Zyo5bem5Y+z5Lik6L6577yM55u45LmY5Li66LSf5pWwXHJcbiAgICAgICAgaWYoYzEgKiBjMiA8PSAwKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHph4/lt67kuZhcclxuICAgICAqIEBwYXJhbSB2MSDlkJHph48xXHJcbiAgICAgKiBAcGFyYW0gdjIg5ZCR6YePMlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjcm9zcyh2MTpWZWN0b3IyLHYyOlZlY3RvcjIpe1xyXG4gICAgICAgIHJldHVybiB2MS54ICogdjIueSAtIHYyLnggKiB2MS55O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ZCR6YeP55u45YePXHJcbiAgICAgKiBAcGFyYW0gdjEg5ZCR6YePMVxyXG4gICAgICogQHBhcmFtIHYyIOWQkemHjzJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3ViKHYxOlZlY3RvcjIsdjI6VmVjdG9yMik6VmVjdG9yMntcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodjEueCAtIHYyLngsIHYxLnkgLSB2Mi55KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTZWdtZW50e1xyXG4gICAgcHVibGljIHBvaW50MTpWZWN0b3IyO1xyXG4gICAgcHVibGljIHBvaW50MjpWZWN0b3IyO1xyXG4gICAgY29uc3RydWN0b3IoX3BvaW50MTpWZWN0b3IyLF9wb2ludDI6VmVjdG9yMil7XHJcbiAgICAgICAgdGhpcy5wb2ludDEgPSBfcG9pbnQxO1xyXG4gICAgICAgIHRoaXMucG9pbnQyID0gX3BvaW50MjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBvbHlnb257XHJcbiAgICBwdWJsaWMgcG9pbnRzOkFycmF5PFZlY3RvcjI+O1xyXG4gICAgY29uc3RydWN0b3IoX3BvaW50czpBcnJheTxWZWN0b3IyPil7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSBfcG9pbnRzO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudGVzdC5UZXN0U2NlbmVVSVwiLFRlc3RTY2VuZVVJKTtcclxufVxyIl19
